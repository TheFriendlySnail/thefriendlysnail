<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shop - The Friendly Snail</title>
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
  button.add-to-cart {
    display: inline-block;
    padding: 10px 20px;
    background-color: #333;
    color: white;
    text-decoration: none;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  button.add-to-cart:hover {
    background-color: #555;
  }
</style>
</head>
<body>
  
<nav class="navbar">
  <div class="nav-container">
    <a href="/" class="logo-link">
      <img src="../assets/logo.png" alt="The Friendly Snail Logo" class="logo">
    </a>
    <ul class="nav-links">
      <li><a href="/about/">About</a></li>
      <li><a href="/contact/">Contact</a></li>
      <li><a href="/shop/">Shop</a></li>
      <li><a href="/checkout/"><i class="fas fa-shopping-cart"></i></a></li>
    </ul>
  </div>
</nav>

  <header class="banner">
    <div class="overlay">
      <h1>Our Products</h1>
    </div>
  </header>

    <!-- Filter Dropdown -->
    <div class="sort-container">
      <label for="sort">Sort by:</label>
      <select id="sort" onchange="sortProducts()">
        <option value="az">A - Z</option>
        <option value="za">Z - A</option>
        <option value="best">Best Selling</option>
        <option value="low">Price: Low to High</option>
        <option value="high">Price: High to Low</option>
      </select>
    </div>

    <!-- Product Grid -->
    <div class="product-grid" id="productGrid">
      <!-- Product Template -->
      <div class="product-card" data-name="Snail Burgers" data-price="9.99+" data-sales="0">
        <a href="/shop/snail-burger/">
          <img src="/assets/snail-burger.jpg" alt="Snail Burgers" />
        </a>
          <h2>Snail Burgers</h2>
          <p>$9.99+</p>
          <button class="add-to-cart" onclick="addToCart('snail-burger', 'Snail Burger', 9.99)">
            Add to Cart
          </button>

      </div>

      <div class="product-card" data-name="Weighted Skewers" data-price="0.99" data-sales="0">
        <a href="/shop/weighted-skewer/">
          <img src="/assets/weighted-skewer.jpg" alt="Weighted Skewers" />
        </a>
          <h2>Weighted Skewers</h2>
          <p>$0.99</p>
          <button class="add-to-cart" onclick="addToCart('weighted-skewer', 'Weighted Skewer', 0.99)">
            Add to Cart
          </button>
      </div>

      <div class="product-card" data-name="Spinach Snail Wraps" data-price="5.99" data-sales="0">
        <a href="/shop/spinach-wraps/">
          <img src="/assets/spinach.jpg" alt="Spinach Wraps" />
        </a>
          <h2>Spinach Snail Wraps</h2>
          <p>$5.99</p>
          <button class="add-to-cart" onclick="addToCart('spinach-wraps', 'Spinach Wraps', 5.99)">
            Add to Cart
          </button>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-left">
      <p>The Friendly Snail</p>
    </div>
    <div class="footer-right">
      <p>Email: <a href="mailto:business.gabelawrence@gmail.com">business.gabelawrence@gmail.com</a></p>
      <p>Phone: <a href="tel:+61493474198">0493 474 198</a></p>
    </div>
  </footer>

  <script>
    function sortProducts() {
      const grid = document.getElementById("productGrid");
      const products = Array.from(grid.getElementsByClassName("product-card"));
      const sortBy = document.getElementById("sort").value;

      products.sort((a, b) => {
        const nameA = a.dataset.name.toLowerCase();
        const nameB = b.dataset.name.toLowerCase();
        const priceA = parseFloat(a.dataset.price);
        const priceB = parseFloat(b.dataset.price);
        const salesA = parseInt(a.dataset.sales);
        const salesB = parseInt(b.dataset.sales);

        switch (sortBy) {
          case "az": return nameA.localeCompare(nameB);
          case "za": return nameB.localeCompare(nameA);
          case "low": return priceA - priceB;
          case "high": return priceB - priceA;
          case "best": return salesB - salesA;
        }
      });

      products.forEach(product => grid.appendChild(product));
    }
  </script>

  <script>
  function addToCart(id, name, price) {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    const existingItem = cart.find(item => item.id === id);
    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      cart.push({ id, name, price, quantity: 1 });
    }

    localStorage.setItem('cart', JSON.stringify(cart));
    alert(`${name} added to cart!`);
  }
</script>

</body>
</html>
